<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body class="d-flex">

    <div class="sidebar p-3" id="sidebar">
      <h4 class="text-center mb-4">DGTracker</h4>
      <nav class="nav flex-column">
        <a href="index.html" class="nav-link">Home</a>
        <a href="employees.html" class="nav-link">Employees</a>
        <a href="projects.html" class="nav-link active">Projects</a>
        <a href="finances.html" class="nav-link">Finances</a>
        <a href="payroll.html" class="nav-link">Payroll</a>
      </nav>
    </div>

  <div class="content">
    <header>
      <h1 class="">Projects</h1>
      <div class="navbar navbar-light">
        <button onclick="openProjectForm()" class="navbar-brand btn btn-light">Add Project</button>
          <form class="form-inline">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
          <!--search bar will be implemented here -->
      </header>
        <!-- pop-up form will appear here -->
        <div id="popupForm" class="popup">
          <div class="popup-content">
            <span class="close-btn" onclick="closeForm()">&times;</span>
            <h3>New Project</h3>
            <form id="projectForm">
              <div class="form-floating">
                <input type="text" id="name" class="form-control" placeholder="Name" required><br>
                <label for="name">Project Name:</label>
              </div>

              <div class="form-floating">
                <input type="text" id="client" class="form-control" placeholder="Name" required><br>
                <label for="client">Client Name:</label>
              </div>

              <div class="form-floating">
                <input type="text" id="location" class="form-control" placeholder="Location" required><br>
                <label for="location">Project Location:</label>
              </div>

              <div class="form-floating">
                <select class="form-select" id="status" aria-label="Floating label select example">
                  <option value="In-Progress">In Progress</option>
                  <option value="On-Hold">On Hold</option>
                  <option value="Completed">Completed</option>
                  <option value="Cancelled">Cancelled</option>
                </select>
                <label for="status">Status:</label>
              </div> <br>

              <!-- Start date and due date -->
              <div class="row g-2">
                <div class="col-md">
                  <div class="form-floating">
                    <input type="date" class="form-control" id="startDate" placeholder="Start Date">
                    <label for="startDate">Start Date:</label>
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-floating">
                    <input type="date" class="form-control" id="dueDate" placeholder="Due Date">
                    <label for="duetDate">Due Date:</label>
                  </div>
                </div>
              </div> <br>


              <div class="input-group mb-3">
                <span class="input-group-text">â‚±</span>
                <div class="form-floating">
                  <input type="number" class="form-control" id="budget" placeholder="Budget">
                  <label for="budget">Budget:</label>
                </div>
              </div>
              <button class="btn btn-primary" type="submit">Submit</button>
      </form>
    </div>
  </div>
    <div class="table-container">
      <table id="projectTable" class="table table-striped">
        <thead class="thead-dark">
          <tr>
            <!-- <th scope="col" class="tbl-contents w-20">Project ID</th> -->
            <th scope="col" class="tbl-contents w-auto">Name</th>
            <th scope="col" class="tbl-contents w-auto">Client</th>
            <th scope="col" class="tbl-contents w-auto">Status</th>
            <th scope="col" class="tbl-contents w-auto">Budget</th>
            <th scope="col" class="tbl-contents w-auto">Remaining Budget</th>
            <th scope="col" class="tbl-contents w-auto"></th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

    <!-- View Project Popup -->
    <div id="viewProjectPopup" class="popup">
      <div class="popup-content">
        <span class="close-btn" onclick="closeForm()">&times;</span>
        <h3>Project Details</h3>
        
        <div id="viewDetails">
        <div class="mb-3 row">
          <label for="viewName" class="col-md-5 col-form-label"><strong>Project Name:</strong></label>
          <div class="col-sm-5">
            <span class="form-control-plaintext" id="viewName"></span>
          </div>
        </div>

        <div class="mb-3 row">
          <label for="viewClient" class="col-md-5 col-form-label"><strong>Client Name:</strong></label>
          <div class="col-sm-5">
            <span class="form-control-plaintext" id="viewClient"></span>
          </div>
        </div>

        <div class="mb-3 row">
          <label for="viewLocation" class="col-md-5 col-form-label"><strong>Project Location:</strong></label>
          <div class="col-sm-5">
            <span class="form-control-plaintext" id="viewLocation"></span>
          </div>
        </div>

        <div class="mb-3 row">
          <label for="viewStatus" class="col-md-5 col-form-label"><strong>Status:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewStatus"></span>
          </div>
        </div>
        
        <div class="mb-3 row">
          <label for="viewBudget" class="col-md-5 col-form-label"><strong>Budget:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewBudget"></span>
          </div>
        </div>

        <div class="mb-3 row">
          <label for="viewRemainingBudget" class="col-md-5 col-form-label"><strong>Remaining Budget:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewRemainingBudget"></span>
          </div>
        </div>

        <div class="mb-3 row">
          <label for="viewTotalExpenses" class="col-md-5 col-form-label"><strong>Total Expenses:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewTotalExpenses"></span>
          </div>
        </div>
        
        <div class="mb-3 row">
          <label for="viewStartDate" class="col-md-5 col-form-label"><strong>Start Date:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewStartDate"></span>
          </div>
        </div>
        
        <div class="mb-3 row">
          <label for="viewDueDate" class="col-md-5 col-form-label"><strong>Due Date:</strong></label>
          <div class="col-sm-3">
            <span class="form-control-plaintext" id="viewDueDate"></span>
          </div>
        </div>
        

          <p><strong>Assigned Employees:</strong><ul id="viewEmployeesList"></ul></p>

          <p><strong>Recent Transactions:</strong></p>
          <ul id="viewTransactions"></ul>
              
        </div>
      </div>
    </div>

    <!-- Edit Employee popup --> 

        <div id="editPopup" class="popup">
          <div class="popup-content">
            <span class="close-btn" onclick="closeForm()">&times;</span>
            <h3>Edit Employee</h3>
            <form id="editProjectForm" onsubmit="updateProject(event, currentProjectId)">
              <div class="form-floating">
                <input type="text" id="editName" class="form-control" placeholder="Name" required><br>
                <label for="editName">Project Name:</label>
              </div>

              <div class="form-floating">
                <input type="text" id="editClient" class="form-control" placeholder="Name" required><br>
                <label for="editClient">Client Name:</label>
              </div>
              
              <div class="form-floating">
                <input type="text" id="editLocation" class="form-control" placeholder="Location" required><br>
                <label for="editLocation">Project Location:</label>
              </div>

              <div class="form-floating">
                <select class="form-select" id="editStatus" aria-label="Floating label select example">
                  <option value="In-Progress">In Progress</option>
                  <option value="On-Hold">On Hold</option>
                  <option value="Completed">Completed</option>
                  <option value="Cancelled">Cancelled</option>
                </select>
                <label for="editStatus">Status:</label>
              </div> <br>
                </p>

              <button class="btn btn-primary" type="submit">Submit</button>
            </form>
          </div>
        </div>
    </div>

    <script src="/js/projects.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script>
  </body>

</html>
